<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <title>socket.io</title>
</head>

<body>
    <div id="message">
    </div>
    <script src="//cdn.bootcss.com/socket.io/1.4.6/socket.io.min.js"></script>
    <script src="//cdn.bootcss.com/jquery/2.2.3/jquery.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script>
    var socket = io('http://localhost:8090');
    socket.on('news', function(data) {
        var data = JSON.parse(data);
        var div = document.getElementById('message');
        data.newslist.forEach(function(obj, index, arr) {
            var h1 = document.createElement('h1');
            h1.innerHTML = obj.description;
            div.appendChild(h1);
        })
        console.log(data);
        socket.emit('my other event', {
            my: data
        });
    });
    </script>
</body>

</html>
